(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c31e935"],{"07fe":function(e,t,r){},"258a":function(e,t,r){},"369c":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-auto component-navbar left-area-rwd"},[r("Navbar")],1),r("div",{staticClass:"col main-area-rwd main-container vh100scroll"},[r("div",{staticClass:"control-area"},[r("div",{staticClass:"previous-page"},[r("div",{staticClass:"arrow-icon",on:{click:function(t){return e.$router.push("/")}}},[r("ArrowIcon")],1),r("div",{staticClass:"user-detail"},[r("div",{staticClass:"user-name"},[e._v(e._s(e.userProfile.name))]),r("div",{staticClass:"tweet-count"},[e._v(e._s(e.userProfile.tweetsCount)+" 推文")])])]),r("NavTabs",{attrs:{initialUserId:e.userProfile.id}})],1),r("UsersFollowersList",{attrs:{initialFollowers:e.followers}})],1),r("div",{staticClass:"col-auto right-container right-area-rwd"},[r("TopFollowersUser",{staticClass:"component-top-followers-user"})],1)])])},a=[],n=r("5530"),o=(r("96cf"),r("1da1")),i=r("d178"),c=r("8bb1"),l=r("f4b3"),u=r("d1bc"),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-follows-list"},[0===e.followers.length?r("div",{staticClass:"warning-sign"},[e._v("沒有跟隨者")]):e._e(),e._l(e.followers,(function(t){return r("div",{key:t.id,staticClass:"user"},[r("router-link",{attrs:{to:{name:"user",params:{userId:t.id}}}},[r("img",{staticClass:"user-avator",attrs:{src:e._f("emptyImage")(t.avatar||""),alt:""}})]),r("div",{staticClass:"user-detail"},[r("div",{staticClass:"user-and-follow-btn"},[r("div",{staticClass:"user-info"},[r("div",{staticClass:"user-name"},[e._v(e._s(t.name))]),r("div",{staticClass:"user-at"},[e._v("@"+e._s(t.account))])]),t.id!==e.currentUser.id?r("div",[t.isFollowed?r("button",{staticClass:"btn follow-btn active",attrs:{type:"submit",id:"follow-btn"},on:{click:function(r){return e.deleteFollowing(t.id)}}},[e._v(" 正在跟隨 ")]):r("button",{staticClass:"btn btn-primary follow-btn",attrs:{type:"submit",id:"follow-btn"},on:{click:function(r){return e.addFollowing(t.id)}}},[e._v(" 跟隨 ")])]):e._e()]),r("div",{staticClass:"user-description"},[e._v(" "+e._s(e._f("contentToLong")(t.introduction||"-- no introduction --"))+" ")])])],1)}))],2)},d=[],w=(r("d81d"),r("2708")),v=r("1602"),p=r("2fa3"),b=r("2f62"),h={components:{},props:{initialFollowers:{type:Array,required:!0}},data:function(){return{followers:this.initialFollowers}},computed:Object(n["a"])({},Object(b["b"])(["currentUser"])),watch:{initialFollowers:function(e){this.followers=e}},methods:{addFollowing:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v["a"].addFollowing({id:e});case 3:if(s=r.sent,a=s.data,"success"===a.status){r.next=7;break}throw new Error(a.message);case 7:t.followers=t.followers.map((function(t){return t.id===e?Object(n["a"])(Object(n["a"])({},t),{},{isFollowed:!0}):t})),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),p["a"].fire({icon:"error",title:"無法跟隨，請稍後再試"}),console.log("error",r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},deleteFollowing:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v["a"].deleteFollowing({userId:e});case 3:if(s=r.sent,a=s.data,"success"===a.status){r.next=7;break}throw new Error(a.message);case 7:t.followers=t.followers.map((function(t){return t.id===e?Object(n["a"])(Object(n["a"])({},t),{},{isFollowed:!1}):t})),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),p["a"].fire({icon:"error",title:"無法取消跟隨，請稍後再試"}),console.log("error",r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()}},mixins:[w["c"],w["a"]]},m=h,g=(r("e077"),r("2877")),C=Object(g["a"])(m,f,d,!1,null,"d01477d0",null),I=C.exports,_={components:{Navbar:i["a"],NavTabs:c["a"],TopFollowersUser:l["a"],ArrowIcon:u["a"],UsersFollowersList:I},data:function(){return{userProfile:{id:-1},followers:[]}},created:function(){var e=this.$route.params.userId;this.fetchUserProfile(e),this.fetchUserFollowers(e)},beforeRouteUpdate:function(e,t,r){var s=e.params.userId;this.fetchUserProfile(s),this.fetchUserFollowers(s),r()},methods:{fetchUserProfile:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v["a"].getUserProfile({userId:e});case 3:if(s=r.sent,t.userProfile=Object(n["a"])(Object(n["a"])({},t.userProfile),s.data),200===s.status){r.next=7;break}throw new Error(s);case 7:r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0),p["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},fetchUserFollowers:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v["a"].getUserFollowers({userId:e});case 3:if(s=r.sent,console.log(s),t.followers=s.data,200===s.status){r.next=8;break}throw new Error(s);case 8:r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),p["a"].fire({icon:"error",title:"無法取得跟隨者資料，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()}}},k=_,F=(r("45be"),Object(g["a"])(k,s,a,!1,null,"ce436d24",null));t["default"]=F.exports},"3eb3":function(e,t,r){},"45be":function(e,t,r){"use strict";r("07fe")},7156:function(e,t,r){var s=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var n,o;return a&&"function"==typeof(n=t.constructor)&&n!==r&&s(o=n.prototype)&&o!==r.prototype&&a(e,o),e}},"8bb1":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"nav justify-content"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followers",params:{userId:e.userId}}}},[e._v("跟隨者")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-followings",params:{userId:e.userId}}}},[e._v("正在跟隨")])],1)])},a=[],n=(r("a9e3"),{props:{initialUserId:{type:Number,required:!0}},data:function(){return{userId:this.initialUserId}},watch:{initialUserId:function(e){console.log(e),this.userId=e}}}),o=n,i=(r("9d22"),r("2877")),c=Object(i["a"])(o,s,a,!1,null,"34617579",null);t["a"]=c.exports},"9d22":function(e,t,r){"use strict";r("3eb3")},a9e3:function(e,t,r){"use strict";var s=r("83ab"),a=r("da84"),n=r("94ca"),o=r("6eeb"),i=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),f=r("d039"),d=r("7c73"),w=r("241c").f,v=r("06cf").f,p=r("9bf2").f,b=r("58a8").trim,h="Number",m=a[h],g=m.prototype,C=c(d(g))==h,I=function(e){var t,r,s,a,n,o,i,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=b(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+l}for(n=l.slice(2),o=n.length,i=0;i<o;i++)if(c=n.charCodeAt(i),c<48||c>a)return NaN;return parseInt(n,s)}return+l};if(n(h,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var _,k=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof k&&(C?f((function(){g.valueOf.call(r)})):c(r)!=h)?l(new m(I(t)),r,k):I(t)},F=s?w(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;F.length>x;x++)i(m,_=F[x])&&!i(k,_)&&p(k,_,v(m,_));k.prototype=g,g.constructor=k,o(a,h,k)}},d1bc:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"14",viewBox:"0 0 17 14",fill:"none"}},[r("path",{attrs:{d:"M16 5.99988H3.41399L7.70699 1.70687C8.09699 1.31687 8.09699 0.683875 7.70699 0.292875C7.31699 -0.0981249 6.68399 -0.0971249 6.29299 0.292875L0.292988 6.29288C-0.0970117 6.68288 -0.0970117 7.31588 0.292988 7.70687L6.29299 13.7069C6.48799 13.9019 6.74299 13.9999 6.99999 13.9999C7.25699 13.9999 7.51199 13.9019 7.70699 13.7069C8.09699 13.3169 8.09699 12.6839 7.70699 12.2929L3.41399 7.99988H16C16.553 7.99988 17 7.55288 17 6.99988C17 6.44688 16.553 5.99988 16 5.99988Z",fill:"black"}})])},a=[],n=r("2877"),o={},i=Object(n["a"])(o,s,a,!1,null,null,null);t["a"]=i.exports},e077:function(e,t,r){"use strict";r("258a")}}]);
//# sourceMappingURL=chunk-4c31e935.30b9e31a.js.map