(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee8d40f2"],{1511:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-auto component-navbar left-area-rwd"},[t("Navbar")],1),t("div",{staticClass:"col main-area-rwd vh100scroll"},[t("UserProfile",{attrs:{initialUserProfile:e.userProfile}}),t("div",{staticClass:"userNavbar d-flex"},[t("router-link",{staticClass:"user-nav-link d-block",attrs:{to:{name:"user",params:{userId:e.userProfile.id}}}},[e._v("推文")]),t("router-link",{staticClass:"user-nav-link d-block",attrs:{to:{name:"user-with-replies",params:{userId:e.userProfile.id}}}},[e._v("推文與回覆")]),t("router-link",{staticClass:"user-nav-link d-block",attrs:{to:{name:"user-likes",params:{userId:e.userProfile.id}}}},[e._v("喜歡的內容")])],1),t("Tweets",{attrs:{initialTweets:e.tweets}})],1),t("div",{staticClass:"col-auto right-area-rwd"},[t("TopFollowersUser",{staticClass:"component-top-followers-user",attrs:{initialUserProfile:e.userProfile},on:{"after-click-delete-following":e.afterClickDeleteFollowing,"after-click-add-following":e.afterClickAddFollowing}})],1)])])},i=[],a=(t("d81d"),t("96cf"),t("1da1")),o=t("5530"),n=t("d178"),l=t("f4b3"),c=t("9f73"),u=t("c136"),f=t("1602"),d=t("2fa3"),w=t("2f62"),h={components:{Navbar:n["a"],TopFollowersUser:l["a"],UserProfile:c["a"],Tweets:u["a"]},data:function(){return{userProfile:{},tweets:[]}},watch:{initialTweets:function(e){this.tweets=e},initialUserProfile:function(e){this.userProfile=e}},computed:Object(o["a"])({},Object(w["b"])(["currentUser","isAuthenticated"])),created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t=e.$route.params.userId,r.next=3,e.fetchUserProfile(t);case 3:e.fetchUserTweets(t);case 4:case"end":return r.stop()}}),r)})))()},beforeRouteUpdate:function(e,r,t){var s=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.params.userId,r.next=3,s.fetchUserProfile(i);case 3:s.fetchUserTweets(i),t();case 5:case"end":return r.stop()}}),r)})))()},methods:{fetchUserProfile:function(e){var r=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].getUserProfile({userId:e});case 3:if(s=t.sent,r.userProfile=Object(o["a"])(Object(o["a"])({},r.userProfile),s.data),200===s.status){t.next=7;break}throw new Error(s);case 7:t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0),d["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},fetchUserTweets:function(e){var r=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f["a"].getUserTweets({userId:e});case 3:if(s=t.sent,console.log(s),r.tweets=s.data,r.tweets=r.tweets.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{User:Object(o["a"])({},r.userProfile)})})),200===s.status){t.next=9;break}throw new Error(s);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0),d["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},afterClickDeleteFollowing:function(e){var r=e.userId;if(r!==this.userProfile.id)if(this.userProfile.id!==this.currentUser.id);else{var t=this.userProfile.FollowingsCount-1;this.userProfile=Object(o["a"])(Object(o["a"])({},this.userProfile),{},{FollowingsCount:t})}else{var s=this.userProfile.FollowersCount-1;this.userProfile=Object(o["a"])(Object(o["a"])({},this.userProfile),{},{FollowersCount:s})}},afterClickAddFollowing:function(e){var r=e.userId;if(r!==this.userProfile.id)if(this.userProfile.id!==this.currentUser.id);else{var t=this.userProfile.FollowingsCount+1;this.userProfile=Object(o["a"])(Object(o["a"])({},this.userProfile),{},{FollowingsCount:t})}else{var s=this.userProfile.FollowersCount+1;this.userProfile=Object(o["a"])(Object(o["a"])({},this.userProfile),{},{FollowersCount:s})}}}},v=h,p=(t("3dd3"),t("2877")),b=Object(p["a"])(v,s,i,!1,null,"9a1f1f8a",null);r["default"]=b.exports},1982:function(e,r,t){},"3dd3":function(e,r,t){"use strict";t("1982")}}]);
//# sourceMappingURL=chunk-ee8d40f2.b9a5cdc3.js.map